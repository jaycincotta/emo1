.cardColumn { display:flex; flex-direction:column; gap:0.25rem; }
.muted { margin-top:.25rem; }
.controlsCard { display:flex; flex-direction:column; gap:0.6rem; }
.topControls { display:flex; gap:0.5rem; flex-wrap:wrap; align-items:center; }
.rowWrap { display:flex; flex-wrap:wrap; row-gap:0.5rem; }
.stack label { display:flex; flex-direction:column; }
.instructions { font-size:.75rem; line-height:1.4; }
.fieldset { margin:0; }
.inlineCheck { font-size:.7rem; display:flex; align-items:center; gap:.25rem; }
.stackLabel { display:flex; flex-direction:column; }
/* New UX enhancements */
.prominentToggles { display:flex; gap:.5rem; flex-wrap:wrap; align-items:center; margin-top:.25rem; }
.prominentCheck { background:#253041; padding:.35rem .75rem; border-radius:9999px; display:inline-flex; align-items:center; gap:.4rem; font-size:.8rem; line-height:1; border:1px solid #2f3a47; box-shadow:0 1px 2px rgba(0,0,0,.4); cursor:pointer; }
.prominentCheck input { accent-color:#3b82f6; transform:scale(1.15); }
@media (pointer:coarse){
	.prominentCheck { font-size:.85rem; }
	.prominentCheck input { transform:scale(1.3); }
}
.bigSelect { padding:.55rem .7rem; font-size:.9rem; min-width:8.5rem; }
@media (pointer:coarse){ .bigSelect { padding:.7rem .9rem; font-size:1rem; } }
.instructionsDismiss { display:flex; justify-content:space-between; align-items:flex-start; gap:.75rem; }
.instructionsDismiss button { background:#374151; font-size:.65rem; padding:.3rem .55rem; margin:0; }
.helpLink { background:none; border:none; color:#60a5fa; font-size:.65rem; cursor:pointer; align-self:flex-end; margin-top:-.25rem; }
.helpLink:hover { text-decoration:underline; }
/* Help modal */
.helpButton { position:absolute; top:0.75rem; right:0.85rem; background:#253041; color:#9cc4ff; border:1px solid #2f3a47; width:34px; height:34px; border-radius:10px; font-size:1rem; font-weight:600; cursor:pointer; display:flex; align-items:center; justify-content:center; box-shadow:0 2px 6px rgba(0,0,0,.5); }
.helpButton:hover { background:#2d3b4a; }
.helpModalBackdrop { position:fixed; inset:0; background:rgba(0,0,0,0.55); backdrop-filter:blur(4px); z-index:1000; display:flex; align-items:flex-start; justify-content:center; padding:4.5rem 1rem 2rem; }
.helpModal { width:100%; max-width:520px; background:#1b222b; border:1px solid #2d3642; border-radius:16px; padding:1.25rem 1.35rem 1.5rem; box-shadow:0 8px 28px -4px rgba(0,0,0,.65); position:relative; animation:helpPop .28s cubic-bezier(.22,1.15,.37,1.01); }
@keyframes helpPop { from { transform:translateY(14px) scale(.96); opacity:0; } to { transform:translateY(0) scale(1); opacity:1; } }
.helpModal h2 { margin:0 0 .75rem; font-size:1.15rem; letter-spacing:.5px; }
.helpClose { position:absolute; top:.55rem; right:.55rem; background:#253041; border:1px solid #2f3a47; width:30px; height:30px; border-radius:8px; cursor:pointer; color:#9cc4ff; display:flex; align-items:center; justify-content:center; font-size:.9rem; }
.helpClose:hover { background:#314252; }
.helpSections { display:flex; flex-direction:column; gap:.85rem; font-size:.8rem; line-height:1.35; }
.helpSections strong { color:#fff; }
.helpFooter { margin-top:1rem; font-size:.65rem; opacity:.65; }
.dimmed { filter:blur(2px) brightness(.6); pointer-events:none; }
/* Hide title in constrained landscape to reduce vertical scroll */
.appHeader { margin:0 0 .5rem; }
@media (orientation:landscape) and (max-height:520px){
	.appHeader { display:none; }
}
/* Global piano key styling hooks (keyboard renders plain class names) */
:global(.kp.white.detected:not(.active)) { background:#1fb655; box-shadow:0 0 0 1px #178d44 inset, 0 0 10px 2px rgba(31,182,85,.55); position:relative; }
:global(.kp.black.detected:not(.active)) { background:#1fb655; box-shadow:0 0 6px 2px rgba(31,182,85,.6); }
/* Variant coloring via data-detect-quality attribute on wrapper */
:global(.quality-near .kp.white.detected:not(.active)) { background:#f59e0b; box-shadow:0 0 0 1px #d97706 inset,0 0 10px 2px rgba(245,158,11,.55); }
:global(.quality-near .kp.black.detected:not(.active)) { background:#f59e0b; box-shadow:0 0 6px 2px rgba(245,158,11,.55); }
:global(.quality-wrong .kp.white.detected:not(.active)) { background:#dc2626; box-shadow:0 0 0 1px #b91c1c inset,0 0 10px 2px rgba(220,38,38,.55); }
:global(.quality-wrong .kp.black.detected:not(.active)) { background:#dc2626; box-shadow:0 0 6px 2px rgba(220,38,38,.55); }
:global(.kp.white.out-detect) { opacity:.25; filter:grayscale(1) brightness(.85); }
:global(.kp.black.out-detect) { opacity:.18; filter:grayscale(1) brightness(.9); }
:global(.kp.white.out-detect.detected), :global(.kp.black.out-detect.detected) { opacity:.6; filter:none; }
/* Subtle pulse for detected note */
@keyframes detectedPulse { 0%{filter:brightness(1);} 50%{filter:brightness(1.25);} 100%{filter:brightness(1);} }
:global(.kp.white.detected:not(.active)), :global(.kp.black.detected:not(.active)) { animation:detectedPulse 1.2s ease-in-out infinite; }
